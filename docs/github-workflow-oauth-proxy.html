<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>GitHub Workflow with OAuth Proxy - Azure Resource Groups</title>
  <link rel="stylesheet" href="github-workflow-oauth-proxy.css">
</head>

<body>
  <h1>GitHub Workflow with OAuth Proxy</h1>

  <div class="workflow-section">
    <h2>Step 1: Authenticate with GitHub</h2>
    <p>Click the button below to authenticate with GitHub using OAuth.</p>
    <button id="auth-button" class="workflow-button auth-button">Authenticate with GitHub</button>
    <button id="logout-button" class="workflow-button" style="background-color: #607D8B; display: none; margin-top: 5px;">Log Out</button>
    <div id="auth-status"></div>
  </div>

  <div class="workflow-section">
    <h2>Step 2: Trigger the Azure Resource Groups Workflow</h2>
    <p>After authenticating, you can trigger the GitHub workflow at <a href="https://github.com/mikestiers/workflows/actions/workflows/GetResourceGroups.yml" target="_blank">mikestiers/workflows/actions/workflows/GetResourceGroups.yml</a></p>
    
    <button id="workflow-trigger" class="workflow-button" disabled>Get Azure Resource Groups</button>
    <div id="workflow-status"></div>
    <div id="workflow-logs" class="workflow-logs"></div>
  </div>

  <div class="workflow-section" id="resource-group-results" style="display: none;">
    <h2>ðŸ“‹ Azure Resource Group Results</h2>
    <div id="resource-group-count"></div>
    <div id="resource-group-list"></div>
    <div id="resource-group-data" style="margin-top: 15px;">
      <details>
        <summary style="cursor: pointer; font-weight: bold;">View Raw JSON Data</summary>
        <pre id="resource-group-json" style="background-color: #f5f5f5; padding: 10px; border-radius: 4px; overflow-x: auto; font-size: 12px;"></pre>
      </details>
    </div>
  </div>

  <!-- JavaScript modules -->
  <script type="module" src="js/main.js"></script>
</body>

</html>
